<%- include(`./partials/head`)%>






<section class="dark:bg-gray-900 flex justify-center flex-col gap-2 items-center w-full mt-8">
    
            <article class="p-4 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700 w-1/2 ">
                <div class="flex justify-between items-center mb-5 text-gray-500">
                    <span class="bg-primary-100 text-primary-800 text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded dark:bg-primary-200 dark:text-primary-800">
                        <svg class="mr-1 w-3 h-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"></path></svg>
                       <%= user.role %>
                    </span>
                    <span class="text-sm"><%= blog.createdAt.toISOString().split('T')[0] %></span>
                </div>
<div class="pic w-full h-[250px]  rounded-lg overflow-hidden mb-6">
    <img src="/image<%= blog.coverImage %>" alt="" class="w-full h-full object-contain">
</div>

                <h2 class="mb-2 text-3xl font-bold tracking-tight text-gray-900 dark:text-white mx-4"><a href="#"><%= blog.title %></a></h2>
                <p class="mb-5 font-medium text-gray-600 dark:text-gray-400 px-4 "><%= blog.body %></p>
                <div class="flex justify-between items-center">
                    <a href="/profile">
                        <div class="flex items-center space-x-4">
                            <img class="w-7 h-7 rounded-full" src="<%= user.profilepic %>" alt="Jese Leos avatar" />
                            <span class="font-medium dark:text-white">
                                <%= user.fullname %>
                            </span>
                        </div>
                    </a>
                   
                </div>
            </article> 


            <% if (locals.user) { %>
       
    <section class="w-1/2 flex flex-col gap-2 items-center bg-gray-200 px-3 py-3 rounded-xl shadow">       
            <div class="comments w-full">
                <form action="/comment/<%= blog._id %>" method="post">
                    <h1 class="text-xl font-semibold ">Comments  (<%= comments.length %>)</h1>
                <input type="text" name="content" placeholder="Enter Your Comment" class="w-full px-2 py-2 rounded-xl">
                <input type="submit" value="Submit" class="px-3 py-2 rounded-lg text-white bg-green-500 hover:bg-green-700 mt-2">
                </form>
            </div>
         
            <% } %>


        <div class="show-comments w-full py-4 bg-gray-100 rounded-xl shadow-md px-2 py-2">
        <% comments.forEach(comment => { %>
           
                <div class="comment mb-3 ">
         <div class="user-info flex gap-1 mb-1">
           <div class="dp w-[12px] h-[12px] rounded-full overflow-hidden"> <img src="<%= comment.user.profilepic%>" alt="" class="w-full h-full object-contain"></div>
           <h4 class="text-[10px]"> <%= comment.user.fullname %></h4>
         </div>

                    <h3><%= comment.content %></h3>
                </div>
    
        <% }) %>

 
        </div>
    </section>

                          
      </div>  
  </div>
</section>

<%- include(`./partials/foot`)%>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
